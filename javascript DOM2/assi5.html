<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Like/Dislike</title>
    <link rel="stylesheet" href="assi5.css">
    
    </head>
    <body>
        <div class="container">
        <table id="table-subjects"></table>
        </div>


        <script>
        var subjects = [
        { name: "Javascript", likes: 0, dislikes: 0 },
        { name: "Python", likes: 0, dislikes: 0 },
        { name: "Java", likes: 0, dislikes: 0 },
        { name: "React", likes: 0, dislikes: 0 },
        ];
        var ele_table = document.getElementById("table-subjects");
        var columnNames = ["img", "likes", "dislikes"];
        showTable();

        function showTable() {
            var html = "";
            for (var i = 0; i < subjects.length; i++) {
            html += "<tr>";
            for (var j = 0; j < columnNames.length; j++) {
                html += "<td>" + subjects[i][columnNames[j]] + "</td>";
            } 
            html += <td > <button class='like' id='${subjects[i].name}' > Like </button> </td>;
            html += <td> <button class='dislike'  id='${subjects[i].name}'> Dislike </button> </td>;
            html += "</tr>";
            }
            ele_table.innerHTML = html;
            var ele_likes = document.getElementsByClassName("like");
            document.querySelectorAll(".like").forEach((e) => {
            e.addEventListener("click", () => {
                updateData(e, "likes");
            });
            });
            document.querySelectorAll(".dislike").forEach((e) => {
                e.addEventListener("click", () => {
                updateData(e, "dislikes");
            });
            });
        }
        function updateData(element, action) {
            var subjectName = element.id;
            for (var i = 0; i < subjects.length; i++) {
            if (subjects[i].name === subjectName) {
                if (action === "likes") {
                subjects[i].likes++;
                } else if (action === "dislikes") {
                subjects[i].dislikes++;
                }
                break;
            }
            }
            showTable(); // Update the table after updating data
        }
        </script>
    </body>
    </html>

